{"version":3,"sources":["components/SongPlayer/SongPlayer.js","components/Songs/SongListItem/SongListItem.js","components/Songs/Songs.js","components/FixedPlayer/FixedPlayer.js","components/Loading/Loading.js","components/App.js","serviceWorkerRegistration.js","index.js"],"names":["SongPlayer","audioRef","progressRef","song","nextSong","prevSong","handlePlayPause","isPaused","startSetProgressBar","stopSetProgressBar","setProgressBar","progress","addRemoveFromFavourites","preview","album","title","artist","id","previousIcon","className","aria-hidden","nextIcon","pauseIcon","playIcon","emptyHeart","filledHeart","audioRefCurrentTime","current","Math","floor","currentTime","audioRefDuration","duration","durationInSeconds","currentTimeInSeconds","currentTimeInMinutes","durationInMinutes","includes","JSON","parse","localStorage","getItem","map","item","src","cover_big","alt","length","name","onClick","ref","autoPlay","onMouseDown","onMouseMove","onMouseLeave","onMouseUp","style","width","SongListItem","isCurrent","onSelect","setIsPaused","addRemoveFavouritesFromList","currentPlaylist","color","currentPlaylistAll","deleteIcon","play","cover_medium","Songs","songs","currentSong","handleSelectSong","favourites","FixedPlayer","playFavourites","playAll","data","popOut","currentPlaylistFavourites","favouritesClass","allClass","window","scrollTo","Loading","App","useRef","progressRefSongPlayer","progressRefFixedPlayer","onload","autoplay","onbeforeunload","useState","setPopOut","setData","setCurrentPlaylist","setSongs","currentSongIndex","setCurrentSongIndex","progressSongPlayer","setProgressSongPlayer","progressFixedPlayer","setProgressFixedPlayer","slideProgressBar","setSlideProgressBar","progressBarUpdateCurrentTime","setProgressBarUpdateCurrentTime","progressBarUpdateProgress","setProgressBarUpdateProgress","scrollTop","setScrollTop","setFavourites","findSelectedAudioIndex","selectedSong","findIndex","isStorageIncludeSong","addToStorage","songObject","arr","push","setItem","stringify","retrievedObject","removeFromStorage","filtered","filter","el","useEffect","fetchJsonp","then","response","ok","json","intervalId","setInterval","clearInterval","ended","handleNextSong","addEventListener","e","scrollTopTarget","target","scrollingElement","undefined","pause","offsetLeft","offsetWidth","clientX","nextAudio","handlePlayPauseSong","handleAddRemoveFavourites","prevAudio","selectedAudioIndex","addToFavourites","isLocalhost","Boolean","location","hostname","match","registerValidSW","swUrl","config","navigator","serviceWorker","register","registration","onupdatefound","installingWorker","installing","onstatechange","state","controller","console","log","onUpdate","onSuccess","catch","error","ReactDOM","render","StrictMode","document","getElementById","URL","process","href","origin","fetch","headers","contentType","get","status","indexOf","ready","unregister","reload","checkValidServiceWorker","serviceWorkerRegistration"],"mappings":"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","file":"static/js/main.de100b07.chunk.js","sourcesContent":["import './SongPlayer.scss'\r\n\r\nconst SongPlayer = ({ \r\n  audioRef,\r\n  progressRef,\r\n  song, \r\n  nextSong, \r\n  prevSong, \r\n  handlePlayPause, \r\n  isPaused, \r\n  startSetProgressBar,\r\n  stopSetProgressBar,\r\n  setProgressBar,\r\n  progress,\r\n  addRemoveFromFavourites,\r\n  }) => {\r\n  const { preview, album, title, artist, id } = song\r\n\r\n  const previousIcon = <i className=\"fa fa-step-backward\" aria-hidden=\"true\"></i>\r\n  const nextIcon = <i className=\"fa fa-step-forward\" aria-hidden=\"true\"></i>\r\n  const pauseIcon = <i className=\"fa fa-pause\" aria-hidden=\"true\"></i>\r\n  const playIcon = <i className=\"fa fa-play\" aria-hidden=\"true\"></i>\r\n  const emptyHeart = <i className=\"fa fa-heart-o\" aria-hidden=\"true\"></i>\r\n  const filledHeart = <i className=\"fa fa-heart\" aria-hidden=\"true\"></i>\r\n  \r\n  const audioRefCurrentTime = audioRef.current === null ? \"\" : Math.floor(audioRef.current.currentTime)\r\n  const audioRefDuration = audioRef.current === null ? \"\" : Math.floor(audioRef.current.duration)\r\n\r\n  const durationInSeconds = audioRefDuration%60 || \"0\";\r\n  const currentTimeInSeconds = audioRefCurrentTime%60 || \"0\";\r\n  const currentTimeInMinutes = Math.floor(audioRefCurrentTime/60) || \"0\";\r\n  const durationInMinutes = Math.floor(audioRefDuration/60) || \"0\";\r\n\r\n  const storageSongs = (JSON.parse(localStorage.getItem('favourites')) || []).map(item => (\r\n    item.id))\r\n  const includes = storageSongs.includes(song.id)\r\n  \r\n \r\n  return (\r\n    <section className=\"song-player\">\r\n        <img\r\n          className=\"song-player__image\"\r\n          src={album.cover_big}\r\n          alt={`${title} cover`} />\r\n      <div className=\"info-wrapper\">\r\n        <div>\r\n        <h2 className={title.length > 25 ? \"song-player__title--if-length\" : \"song-player__title\"}>\r\n          <span className={title.length > 25 ? \"song-player__title--if-length--animation\" : \"\"}>{title}</span>\r\n        </h2>\r\n        <p className=\"song-player__artist\">{artist.name}</p>\r\n        </div>\r\n        <button className=\"song-player__heart\" onClick={addRemoveFromFavourites}>{includes ? filledHeart : emptyHeart}</button>\r\n      </div>\r\n      <audio ref={audioRef} key={id} autoPlay>\r\n        <source src={preview} />\r\n      </audio>\r\n      <div className=\"progress-bar\">\r\n        <div\r\n          ref={progressRef} \r\n          onClick={setProgressBar}\r\n          onMouseDown={startSetProgressBar}\r\n          onMouseMove={setProgressBar}\r\n          onMouseLeave={stopSetProgressBar} \r\n          onMouseUp={stopSetProgressBar}\r\n          className=\"progress-bar__container\">\r\n          <div style={{width: (progress * 100) + '%'}}></div>\r\n        </div>\r\n      </div>\r\n      <div className=\"timers-wrapper\">\r\n        <span className=\"timers timers--current-time\">{currentTimeInMinutes}:{currentTimeInSeconds < 10 ? `0${currentTimeInSeconds}` : currentTimeInSeconds}</span>\r\n        <span className=\"timers timers--duration\">{durationInMinutes}:{durationInSeconds < 10 ? `0${durationInSeconds}` : durationInSeconds}</span>\r\n      </div>\r\n      <div className=\"song-player__controls\">\r\n        <div className=\"button-wrapper\">\r\n          <button className=\"song-player__button\" onClick={() => prevSong(song)}>{previousIcon}</button>\r\n          <button className=\"song-player__button song-player__button--play\" onClick={handlePlayPause}>{isPaused ? playIcon : pauseIcon}</button>\r\n          <button className=\"song-player__button\" onClick={() => nextSong(song)}>{nextIcon}</button>\r\n        </div>\r\n      </div>\r\n    </section>\r\n  );\r\n};\r\n\r\nexport default SongPlayer;","import './SongListItem.scss'\r\nconst SongListItem =({ \r\n  song, \r\n  isCurrent, \r\n  onSelect, \r\n  setIsPaused, \r\n  audioRef,\r\n  addRemoveFavouritesFromList,\r\n  currentPlaylist,\r\n}) =>{\r\n\r\n  const color = isCurrent ? \"#009FFD\" : \"#EAF6FF\";\r\n  const style = { color };\r\n  const { album, title, artist } = song\r\n\r\n  const currentPlaylistAll = currentPlaylist === \"all\"\r\n\r\n  const handlePlayPause = () =>{\r\n    audioRef.current.play();\r\n    setIsPaused(false)\r\n    onSelect(song);\r\n  }\r\n\r\n  const deleteIcon = <i className=\"fa fa-trash-o\" aria-hidden=\"true\"></i>\r\n  const emptyHeart = <i className=\"fa fa-heart-o\" aria-hidden=\"true\"></i>\r\n  const filledHeart = <i className=\"fa fa-heart\" aria-hidden=\"true\"></i>\r\n\r\n  const storageSongs = (JSON.parse(localStorage.getItem('favourites')) || []).map(item => (\r\n    item.id))\r\n  const includes = storageSongs.includes(song.id)\r\n  return (\r\n    <>\r\n    <li className=\"song-list-item\">\r\n      <div onClick={handlePlayPause} >\r\n      <img className=\"song-list-item__image\"src={album.cover_medium} alt={`${title} cover`}/>\r\n      <div className=\"title-artist-wrapper\">\r\n        <p className=\"song-list-item__title\"style={style}>{title}</p>\r\n        <p className=\"song-list-item__artist\">{artist.name}</p>\r\n      </div>\r\n      </div>\r\n      <button className=\"song-list-item__icon\" onClick={() => addRemoveFavouritesFromList(song)}>{currentPlaylistAll ? (includes ? filledHeart :emptyHeart) : deleteIcon}</button>\r\n    </li>\r\n    \r\n    </>\r\n  );\r\n}\r\n\r\nexport default SongListItem\r\n","import SongListItem from './SongListItem/SongListItem';\r\nimport './Songs.scss'\r\n\r\nconst Songs = ({ \r\n  songs, \r\n  currentSong, \r\n  handleSelectSong, \r\n  audioRef, \r\n  setIsPaused,\r\n  addRemoveFavouritesFromList,\r\n  favourites,\r\n  currentPlaylist,\r\n}) => {\r\n  \r\n\r\n\r\n  return (\r\n    <section className=\"songs\">\r\n      <h2 className=\"songs__heading\">{currentPlaylist === \"all\" ? \"All songs\" : \"Favourites\"}</h2>\r\n        <ul className=\"songs__list\">\r\n          {songs.length === 0 ? \"dodaj coś\" :\r\n        songs.map(song => (\r\n          <SongListItem\r\n            key={song.id}\r\n            song={song}\r\n            isCurrent={song.preview === currentSong.preview}\r\n            onSelect={handleSelectSong} \r\n            setIsPaused={setIsPaused} \r\n            audioRef={audioRef}\r\n            addRemoveFavouritesFromList={addRemoveFavouritesFromList}\r\n            favourites={favourites}\r\n            currentPlaylist={currentPlaylist}\r\n          />))}\r\n      </ul>\r\n    </section>\r\n  );\r\n};\r\n\r\nexport default Songs;","import './FixedPlayer.scss'\r\n\r\nconst FixedPlayer = ({\r\n    handlePlayPause, \r\n    isPaused,\r\n    progressRef,\r\n    progress,\r\n    song,\r\n    className,\r\n    addRemoveFromFavourites,\r\n    playFavourites,\r\n    playAll,\r\n    currentPlaylist,\r\n    data,\r\n    favourites,\r\n    popOut,\r\n}) => {\r\n    const { album, title, artist } = song\r\n\r\n    const pauseIcon = <i className=\"fa fa-pause\" aria-hidden=\"true\"></i>\r\n    const playIcon = <i className=\"fa fa-play\" aria-hidden=\"true\"></i>\r\n    const emptyHeart = <i className=\"fa fa-heart-o\" aria-hidden=\"true\"></i>\r\n    const filledHeart = <i className=\"fa fa-heart\" aria-hidden=\"true\"></i>\r\n\r\n    const currentPlaylistFavourites = currentPlaylist === \"favourites\"\r\n    const currentPlaylistAll = currentPlaylist === \"all\"\r\n    const favouritesClass = currentPlaylistFavourites ? \"playlists__chosen\" : \"playlists__no-chosen\"\r\n    const allClass = currentPlaylistAll ? \"playlists__chosen\" : \"playlists__no-chosen\"\r\n\r\n    const storageSongs = (JSON.parse(localStorage.getItem('favourites')) || []).map(item => (\r\n        item.id))\r\n    const includes = storageSongs.includes(song.id)\r\n    \r\n    return (\r\n        <>\r\n        <div className={`fixed-player ${className}`}>\r\n            <div >\r\n                <div ref={progressRef} className=\"fixed-player__progress-container\" >\r\n                    <div style={{width: (progress * 100) + '%'}}></div>\r\n                </div>\r\n                <img onClick={() => window.scrollTo(0, 0)} className=\"fixed-player__image\" src={album.cover_medium} alt={`${title} cover`}/>\r\n                <div onClick={() => window.scrollTo(0, 0)} className=\"fixed-player__info\">\r\n                    <h3 className=\"fixed-player__title\">{title}</h3>\r\n                    <p className=\"fixed-player__artist\">{artist.name}</p>\r\n                </div>\r\n            </div>\r\n                <button className=\"fixed-player__heart\"onClick={addRemoveFromFavourites}>{includes ? filledHeart : emptyHeart}</button>\r\n                <button className=\"fixed-player__button\" onClick={handlePlayPause}>{isPaused ? playIcon : pauseIcon}</button>\r\n            <div className=\"playlists\">\r\n                <button className={allClass} onClick={playAll}>All songs {`(${data.length})`}<span>{currentPlaylistAll ? \"\" : playIcon}</span></button>\r\n                <button className={favouritesClass} onClick={playFavourites}>Favourites {`(${favourites === null ? \"0\" :favourites.length})`}<span>{currentPlaylistFavourites ? \"\" : playIcon}</span></button>\r\n            </div>\r\n        </div>\r\n        {popOut ? <div className=\"pop-out\">Favourites is empty</div> : \"\"}\r\n        </>\r\n    );\r\n}\r\n \r\nexport default FixedPlayer;\r\n","import './Loading.scss'\r\n\r\nconst Loading = () => {\r\n    return ( \r\n        <div className=\"dot\">\r\n            <div className=\"dot__spin\"></div>\r\n        </div>\r\n     );\r\n}\r\n \r\nexport default Loading;","import { useState, useEffect, useRef } from 'react';\r\nimport fetchJsonp from 'fetch-jsonp'\r\n\r\nimport SongPlayer from './SongPlayer/SongPlayer';\r\nimport Songs from './Songs/Songs';\r\nimport FixedPlayer from './FixedPlayer/FixedPlayer'\r\nimport Loading from './Loading/Loading'\r\n\r\nimport './App.scss';\r\n\r\nfunction App() {\r\n  const audioRef = useRef(null);\r\n  const progressRefSongPlayer = useRef(null);\r\n  const progressRefFixedPlayer = useRef(null);\r\n  const URL = \"https://api.deezer.com/playlist/8823756962/tracks?output=jsonp\"\r\n  \r\n  // prevent autoplay\r\n  window.onload = function () {\r\n    if(audioRef.current !== null){\r\n    audioRef.current.autoplay = false\r\n    }\r\n  }\r\n  \r\n  //scroll to start\r\n  window.onbeforeunload = function () {\r\n    window.scrollTo(0, 0);\r\n  }\r\n  const [popOut, setPopOut] = useState(false)\r\n  const [data, setData] = useState([]);\r\n  const [currentPlaylist, setCurrentPlaylist] = useState(\"all\");\r\n  const [songs, setSongs] = useState([]);\r\n  const [currentSongIndex, setCurrentSongIndex] = useState(0);\r\n  const currentSong = songs[currentSongIndex];\r\n  const [isPaused, setIsPaused] = useState(true);\r\n  const [progressSongPlayer, setProgressSongPlayer] = useState(0);\r\n  const [progressFixedPlayer, setProgressFixedPlayer] = useState(0);\r\n  const [slideProgressBar, setSlideProgressBar] = useState(false);\r\n  const [progressBarUpdateCurrentTime, setProgressBarUpdateCurrentTime] = useState(false);\r\n  const [progressBarUpdateProgress, setProgressBarUpdateProgress] = useState(false);\r\n  const [scrollTop, setScrollTop] = useState(false);\r\n  const [favourites, setFavourites] = useState([]);\r\n\r\n  useEffect(() => {\r\n    fetchJsonp(URL)\r\n    .then(response => {\r\n      if (response.ok){\r\n        response.json()\r\n        .then(data =>{\r\n          setData(data.data)\r\n          setSongs(data.data)\r\n        })\r\n      }\r\n    })\r\n    const retrievedObject = localStorage.getItem('favourites')\r\n    setFavourites(JSON.parse(retrievedObject))\r\n    if(retrievedObject===null){\r\n      localStorage.setItem('favourites', JSON.stringify([]))\r\n    }\r\n    \r\n  },[])\r\n  \r\n  useEffect(() => {\r\n    const intervalId = setInterval(() => {\r\n      if(audioRef.current !== null) {\r\n        if(isPaused){\r\n          clearInterval(intervalId)\r\n        }\r\n        const { ended } = audioRef.current\r\n        if(ended){\r\n          audioRef.current.currentTime = 0\r\n          handleNextSong(currentSong);\r\n          setProgressSongPlayer(0)\r\n          audioRef.current.play()\r\n          clearInterval(intervalId)\r\n        }\r\n        if(progressBarUpdateProgress !== audioRef.current){\r\n          setProgressBarUpdateProgress(audioRef.current);\r\n          audioRef.current.addEventListener(\"timeupdate\", e =>{\r\n            if(!progressBarUpdateCurrentTime){\r\n              if(audioRef.current !== null){\r\n                const {currentTime, duration} = audioRef.current\r\n                setProgressSongPlayer(currentTime/duration)\r\n                setProgressFixedPlayer(currentTime/duration)\r\n                \r\n              }\r\n            }\r\n          })  \r\n        }\r\n      }\r\n    }, 100);\r\n    return () => clearInterval(intervalId);\r\n    \r\n  },);\r\n\r\n  //show FixedPlayer \r\n  window.addEventListener('scroll',(e) => {\r\n    const scrollTopTarget = e.target.scrollingElement.scrollTop;\r\n    if(scrollTopTarget < 100){\r\n      setScrollTop(false)\r\n    }else if (scrollTopTarget <700){\r\n      setScrollTop(true)\r\n    }\r\n  });\r\n\r\n  \r\n  // if favourites empty back to all songs\r\n  if(favourites !== null){\r\n  if(currentSong === undefined && favourites.length===0 && data.length > 1){\r\n    setSongs(data);\r\n    setCurrentPlaylist(\"all\");\r\n    setProgressSongPlayer(0);\r\n    setProgressFixedPlayer(0);\r\n    if(audioRef.current !== null){\r\n      setIsPaused(true);\r\n      audioRef.current.currentTime = 0;\r\n      audioRef.current.pause();\r\n    }\r\n  }\r\n}\r\n\r\n  // on progressBar click update currentTime to clicked value\r\n  if(progressBarUpdateCurrentTime){\r\n    setProgressBarUpdateCurrentTime(false)\r\n    audioRef.current.currentTime = audioRef.current.duration * progressSongPlayer\r\n  }\r\n\r\n  if(isPaused && audioRef.current !== null){\r\n    audioRef.current.pause();\r\n  }\r\n\r\n  //utilities functions\r\n  function findSelectedAudioIndex(selectedSong, songs){\r\n    const audioIndex = songs.findIndex(\r\n      song => song.preview === selectedSong.preview)\r\n      return audioIndex\r\n  }\r\n\r\n  function isStorageIncludeSong(currentSong){\r\n    const storageSongs = (JSON.parse(localStorage.getItem('favourites')) || []).map(item => (\r\n      item.id))\r\n    const includes = storageSongs.includes(currentSong.id)\r\n    return includes\r\n  }\r\n\r\n  function addToStorage(songObject){\r\n    const arr = JSON.parse(localStorage.getItem('favourites')) || [];\r\n      arr.push({\r\n        id: songObject.id,\r\n        title: songObject.title,\r\n        \r\n        preview: songObject.preview,\r\n        album: {\r\n          cover_medium: songObject.album.cover_medium,\r\n          cover_big: songObject.album.cover_big\r\n        },\r\n        artist: {\r\n          name: songObject.artist.name\r\n        }\r\n      })\r\n      localStorage.setItem('favourites', JSON.stringify(arr))\r\n      const retrievedObject = localStorage.getItem('favourites')\r\n      setFavourites(JSON.parse(retrievedObject))\r\n  }\r\n\r\n  function removeFromStorage(songObject){\r\n    const arr = JSON.parse(localStorage.getItem('favourites')) || [];\r\n      const filtered = arr.filter(el => {\r\n        return el.id !== songObject.id\r\n      })\r\n      localStorage.setItem('favourites', JSON.stringify(filtered))\r\n      const retrievedObject = localStorage.getItem('favourites')\r\n      setFavourites(JSON.parse(retrievedObject))\r\n      if(currentPlaylist === \"favourites\"){\r\n        setSongs(JSON.parse(retrievedObject))\r\n        if(currentSongIndex > 0){\r\n        setCurrentSongIndex(currentSongIndex -1)\r\n      }\r\n      audioRef.current.play()\r\n      }\r\n  }\r\n  //app logic functions\r\n\r\n  const startSetProgressBar = (e) =>{\r\n    setSlideProgressBar(true)\r\n    setProgressBar(e)\r\n  }\r\n\r\n  const stopSetProgressBar = (e) =>{\r\n    setSlideProgressBar(false)\r\n    setProgressBar(e)\r\n  }\r\n\r\n  const setProgressBar = (e) =>{\r\n    if(progressRefSongPlayer !== null){\r\n      if(slideProgressBar){\r\n        const {offsetLeft, offsetWidth} = progressRefSongPlayer.current\r\n      const progress = (e.clientX - offsetLeft) / offsetWidth;\r\n      setProgressSongPlayer(progress)\r\n      setProgressBarUpdateCurrentTime(true);\r\n      }\r\n    }\r\n  }\r\n  const handleSelectSong = (selectedSong) =>{\r\n    const selectedAudioIndex = findSelectedAudioIndex(selectedSong, songs)\r\n    if (selectedAudioIndex >= 0) {\r\n      setCurrentSongIndex(selectedAudioIndex)\r\n      audioRef.current.play();\r\n      setProgressSongPlayer(0);\r\n      setIsPaused(false);\r\n    }\r\n    if(!isPaused){\r\n      audioRef.current.pause();\r\n      setIsPaused(true);\r\n    }\r\n    if(selectedAudioIndex !== currentSongIndex){\r\n      audioRef.current.play();\r\n      setIsPaused(false);\r\n    }\r\n  }\r\n  const handleNextSong =  () =>{\r\n    const nextAudio = currentSongIndex >= songs.length - 1 ? currentSongIndex - songs.length +1: currentSongIndex + 1 \r\n      setCurrentSongIndex(nextAudio);\r\n      setIsPaused(false);\r\n      audioRef.current.currentTime = 0;\r\n      setProgressSongPlayer(0);\r\n  }\r\n\r\n  const handlePrevSong = () =>{\r\n    const prevAudio = currentSongIndex <= 0 ? currentSongIndex + songs.length -1 : currentSongIndex - 1 \r\n    setCurrentSongIndex(prevAudio) \r\n    setIsPaused(false)\r\n  }\r\n\r\n  const handlePlayPauseSong =() =>{\r\n    if(isPaused){\r\n      setIsPaused(false)\r\n      audioRef.current.play()\r\n    }else if(!isPaused){\r\n      setIsPaused(true)\r\n      audioRef.current.pause()\r\n    }\r\n  }\r\n  \r\n  const handleAddRemoveFavourites = () =>{\r\n    const includes = isStorageIncludeSong(currentSong);\r\n    if(!includes){\r\n      addToStorage(currentSong);\r\n    }else{\r\n      removeFromStorage(currentSong)\r\n    }\r\n  }\r\n \r\n  const handleAddRemoveFavouritesFromList = (selectedSong) => {\r\n    const selectedAudioIndex = findSelectedAudioIndex(selectedSong, songs)\r\n    const addToFavourites = songs[selectedAudioIndex]\r\n    \r\n    const includes = isStorageIncludeSong(addToFavourites);\r\n\r\n    if(!includes){\r\n      addToStorage(addToFavourites);\r\n    }else{\r\n      removeFromStorage(addToFavourites)\r\n    }\r\n  }\r\n\r\n  const handlePlayFavourites = () => {\r\n    if(favourites.length > 0){\r\n      setSongs(favourites);\r\n      setCurrentSongIndex(0);\r\n      setIsPaused(true);\r\n      setCurrentPlaylist(\"favourites\");\r\n      setPopOut(false);\r\n      setProgressSongPlayer(0);\r\n      setProgressFixedPlayer(0);\r\n      audioRef.current.currentTime = 0;\r\n    }else {\r\n      setPopOut(true);\r\n    }\r\n  }\r\n\r\n  const handlePlayAll = () => {\r\n    setSongs(data);\r\n    setCurrentSongIndex(0);\r\n    setIsPaused(true);\r\n    setCurrentPlaylist(\"all\");\r\n    setProgressSongPlayer(0);\r\n    setProgressFixedPlayer(0);\r\n    audioRef.current.currentTime = 0;\r\n  } \r\n\r\n  return (\r\n    <div className=\"App\">\r\n      {songs.length === 0 && currentPlaylist === \"all\"\r\n      ? <Loading/>\r\n      :<>\r\n        <h1 className=\"App__heading\">Music player</h1>\r\n        <SongPlayer\r\n          audioRef={audioRef}\r\n          progressRef={progressRefSongPlayer} \r\n          song={currentSong} \r\n          nextSong={handleNextSong}\r\n          prevSong={handlePrevSong}\r\n          handlePlayPause={handlePlayPauseSong}\r\n          isPaused={isPaused}\r\n          startSetProgressBar={startSetProgressBar}\r\n          stopSetProgressBar={stopSetProgressBar}\r\n          setProgressBar={setProgressBar}\r\n          progress={progressSongPlayer}\r\n          addRemoveFromFavourites={handleAddRemoveFavourites}\r\n          favourites={favourites}\r\n          currentPlaylist={currentPlaylist}\r\n          data={data}\r\n          songs={songs}\r\n          setCurrentSongIndex={setCurrentSongIndex}\r\n        />\r\n        <Songs\r\n          audioRef={audioRef} \r\n          songs={songs} \r\n          currentSong={currentSong}\r\n          handleSelectSong={handleSelectSong}\r\n          setIsPaused={setIsPaused}\r\n          song={currentSong}\r\n          addRemoveFavouritesFromList={handleAddRemoveFavouritesFromList}\r\n          favourites={favourites}\r\n          currentPlaylist={currentPlaylist}\r\n          />\r\n        <FixedPlayer\r\n          audioRef={audioRef} \r\n          handlePlayPause={handlePlayPauseSong}\r\n          isPaused={isPaused}\r\n          progressRef={progressRefFixedPlayer}\r\n          progress={progressFixedPlayer}\r\n          song={currentSong} \r\n          className={scrollTop ? \"fixed-player__show\" : \"fixed-player__hide\"}\r\n          addRemoveFromFavourites={handleAddRemoveFavourites}\r\n          playFavourites={handlePlayFavourites}\r\n          playAll={handlePlayAll}\r\n          currentPlaylist={currentPlaylist}\r\n          data={data}\r\n          favourites={favourites}\r\n          popOut={popOut}\r\n        />\r\n      </>}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","const isLocalhost = Boolean(\r\n    window.location.hostname === 'localhost' ||\r\n      // [::1] is the IPv6 localhost address.\r\n      window.location.hostname === '[::1]' ||\r\n      // 127.0.0.0/8 are considered localhost for IPv4.\r\n      window.location.hostname.match(/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/)\r\n  );\r\n  \r\n  export function register(config) {\r\n    if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n      // The URL constructor is available in all browsers that support SW.\r\n      const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n      if (publicUrl.origin !== window.location.origin) {\r\n        // Our service worker won't work if PUBLIC_URL is on a different origin\r\n        // from what our page is served on. This might happen if a CDN is used to\r\n        // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n        return;\r\n      }\r\n  \r\n      window.addEventListener('load', () => {\r\n        const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n  \r\n        if (isLocalhost) {\r\n          // This is running on localhost. Let's check if a service worker still exists or not.\r\n          checkValidServiceWorker(swUrl, config);\r\n  \r\n          // Add some additional logging to localhost, pointing developers to the\r\n          // service worker/PWA documentation.\r\n          navigator.serviceWorker.ready.then(() => {\r\n            console.log(\r\n              'This web app is being served cache-first by a service ' +\r\n                'worker. To learn more, visit https://cra.link/PWA'\r\n            );\r\n          });\r\n        } else {\r\n          // Is not localhost. Just register service worker\r\n          registerValidSW(swUrl, config);\r\n        }\r\n      });\r\n    }\r\n  }\r\n  \r\n  function registerValidSW(swUrl, config) {\r\n    navigator.serviceWorker\r\n      .register(swUrl)\r\n      .then((registration) => {\r\n        registration.onupdatefound = () => {\r\n          const installingWorker = registration.installing;\r\n          if (installingWorker == null) {\r\n            return;\r\n          }\r\n          installingWorker.onstatechange = () => {\r\n            if (installingWorker.state === 'installed') {\r\n              if (navigator.serviceWorker.controller) {\r\n                // At this point, the updated precached content has been fetched,\r\n                // but the previous service worker will still serve the older\r\n                // content until all client tabs are closed.\r\n                console.log(\r\n                  'New content is available and will be used when all ' +\r\n                    'tabs for this page are closed. See https://cra.link/PWA.'\r\n                );\r\n  \r\n                // Execute callback\r\n                if (config && config.onUpdate) {\r\n                  config.onUpdate(registration);\r\n                }\r\n              } else {\r\n                // At this point, everything has been precached.\r\n                // It's the perfect time to display a\r\n                // \"Content is cached for offline use.\" message.\r\n                console.log('Content is cached for offline use.');\r\n  \r\n                // Execute callback\r\n                if (config && config.onSuccess) {\r\n                  config.onSuccess(registration);\r\n                }\r\n              }\r\n            }\r\n          };\r\n        };\r\n      })\r\n      .catch((error) => {\r\n        console.error('Error during service worker registration:', error);\r\n      });\r\n  }\r\n  \r\n  function checkValidServiceWorker(swUrl, config) {\r\n    // Check if the service worker can be found. If it can't reload the page.\r\n    fetch(swUrl, {\r\n      headers: { 'Service-Worker': 'script' },\r\n    })\r\n      .then((response) => {\r\n        // Ensure service worker exists, and that we really are getting a JS file.\r\n        const contentType = response.headers.get('content-type');\r\n        if (\r\n          response.status === 404 ||\r\n          (contentType != null && contentType.indexOf('javascript') === -1)\r\n        ) {\r\n          // No service worker found. Probably a different app. Reload the page.\r\n          navigator.serviceWorker.ready.then((registration) => {\r\n            registration.unregister().then(() => {\r\n              window.location.reload();\r\n            });\r\n          });\r\n        } else {\r\n          // Service worker found. Proceed as normal.\r\n          registerValidSW(swUrl, config);\r\n        }\r\n      })\r\n      .catch(() => {\r\n        console.log('No internet connection found. App is running in offline mode.');\r\n      });\r\n  }\r\n  \r\n  export function unregister() {\r\n    if ('serviceWorker' in navigator) {\r\n      navigator.serviceWorker.ready\r\n        .then((registration) => {\r\n          registration.unregister();\r\n        })\r\n        .catch((error) => {\r\n          console.error(error.message);\r\n        });\r\n    }\r\n  }","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.scss';\nimport App from './components/App';\nimport 'font-awesome/css/font-awesome.min.css';\nimport * as serviceWorkerRegistration from './serviceWorkerRegistration';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\nserviceWorkerRegistration.register();"],"sourceRoot":""}